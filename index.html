<!DOCTYPE HTML>
<html>
  <head>

    <!-- Pull the engine from the Quintus CDN or load it locally -->
    <!-- (use quintus-all.min.js for production) -->
    <script src='http://cdn.html5quintus.com/v0.2.0/quintus-all.js'></script>
    <script src='characters.js'>
   </script>
  </head>
   <body style="background-color: black;">

     <script>
     window.addEventListener("load",function() {
      // Now set up your game (most games will load a separate .js file)
      var Q = window.Q = Quintus({development: true})           // Create a new engine instance
              .include("Sprites, Scenes, Input, 2D, Touch, UI, Characters, Input") // Load any needed modules
              .setup({
                width  : 320,
                height : 480})
              .controls();                    // Add a canvas element onto the page
              //.controls()                        // Add in default controls (keyboard, buttons)
              //.touch();                          // Add in touch support (for the UI)
              
      /*
        ... Actual game code goes here ... 
      */
     Q.scene("level1", function(stage) {
            //we want to make the player collide with this layer
            //var collisionLayer = new Q.TileLayer({ dataAsset: 'level_collision.json', sheet: 'tiles' });

            //backgroud elements, they don't collide with the player
            var backgroundLayer = new Q.TileLayer({
              dataAsset: "background_layer.json",
                  sheet: "tiles" });

            // var backgroundLayerTest = new Q.TileLayer({dataAsset: "level_background.json", sheet: "tiles"}); 

            //add these elements to the stage
          Q.STUDENT_AND_FURNITURE = 0;  
          Q.TEACHER = 1;  
          //Q.MYSTERY = 2;  
            //make a sprite
            var chair = new Q.Sprite({
              x: 50,
              y: 70,
              sheet: 'chair',
              type: Q.STUDENT_AND_FURNITURE,
              collisionMask: Q.TEACHER    
            });

            var table = new Q.Sprite({
              x: 50,
              y: 50,
              sheet: 'table',
              type: Q.STUDENT_AND_FURNITURE,
              collisionMask: Q.TEACHER    
            });

            var student = new Q.Sprite({
              x: 50,
              y: 60,
              sheet: 'student',
              type: Q.STUDENT_AND_FURNITURE,
              collisionMask: Q.TEACHER    
            });

            var teacher = new Q.Teacher({
                      sheet: 'teacher'});
            //sprite.add('2d');
            stage.insert(backgroundLayer);

            
            stage.insert(table);
            stage.insert(student);
            stage.insert(chair);
            stage.insert(teacher);

            
            // stage.insert(backgroundLayerTest);
          });

     Q.load("background_layer.json, tiles.png, sprites.json", function() {
            Q.sheet("tiles","tiles.png", {tilew: 32, tileh: 32 });
            // Q.sheet("tiles", "tiles.png", {tilew: 32,
            //  tileh: 32});
            Q.compileSheets("tiles.png", "sprites.json");
            // console.log("Loaded!");

            Q.stageScene("level1");
            console.log("Where is my scene?");
          });

      console.log("I'm aliveeee");
  });
   </script>

   </body>
</html>